<% script = '/lists/passwords/script.js' %>

<script type="text/x-handlebars">
<div class="row-fluid">
  <%- partial('sidenav.ejs') %>

  {{#view Application.ListView class="span9"}}
    <div class="page-header">
      <div class="row-fluid">
      <h1 class="pull-left span3 offset4">{{listName}}</h1>
      <div class="btn-group span6">
        <a class="btn" {{action "refresh"}}><i class="icon-refresh"></i></a>
        <a class="btn" {{action "addItem"}}><i class="icon-plus-sign"></i></a>
        <a class="btn disabled"><i class="icon-trash"></i></a>
      </div>
      </div>
    </div>
    <table class="table table-striped table-condensed">
      <thead>
        <tr>
          <th><input type="checkbox"></input></th>
          <% for (field in metadata.fields) { %>
            <th><%= metadata.fields[field].heading %></th>
          <% } %>
        </tr>
      </thead>
      {{#collection contentBinding="Application.passwordsController" tagName="tbody"}}
        {{#view Application.ItemView contentBinding="content"}}
          <td><input type="checkbox"></input></td>
          <% for (fieldName in metadata.fields) {
            var field = metadata.fields[fieldName];
            switch(field.type) { case 'String': %>
                <td>{{<%= fieldName %>}}</td>
              <% break; case 'Url': %>
                <td><a {{bindAttr href="<%= fieldName%>"}}>{{<%= fieldName%>}}</a></td>
              <% break; %>
          <% }} %>
        {{/view}}
      {{/collection}}
    </table>
  {{/view}}
</div>

<%- partial('newItemModal.ejs') %>

</script>
